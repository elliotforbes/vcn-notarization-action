name: 'VCN Notarization'
description: 'An action that allows you to notarize dockerfiles and build artefacts using CodeNotary VCN'

inputs:
  file:
    description: 'The file or dockerfile we wish to notarize'
    required: true
  vcn_username:
    description: 'the vcn username'
    required: true
  vcn_password:
    description: 'the vcn password'
    required: true

outputs:
  signed-hash:
    description: 'the vcn signed hash generated from the file or docker image'

runs:
  using: docker
  image: 'Dockerfile'
  env:
    VCN_USER: ${{ inputs.vcn_username }}
    VCN_PASSWORD: ${{ inputs.vcn_password }}
    VCN_NOTARIZATION_PASSWORD: ${{ inputs.vcn_password }}
  args:
    - ${{ inputs.file }}

branding:
  icon: 'check'
  color: blue